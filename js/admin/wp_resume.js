(function(){var a;a=function(){function c(){var b,c,d,e;switch(pagenow){case"wp_resume_position_page_wp_resume_options":jQuery("#wp_resume_help, #wp_resume_clearfix, #multiple, .underHood").hide(),jQuery("#wp_resume_help_toggle").click(this.toggleHelp),jQuery("#toggleMultiple").click(this.toggleMultiple),jQuery("#toggleHood").click(this.toggleHood),jQuery("#user").change(jQuery(".button-primary").click),jQuery("#add_contact_field").click(this.addContactField),jQuery(".button-primary").click(this.submitOptions),this.addContactField(),this.makeSortable();break;case"wp_resume_position":for(jQuery("#publish").click(this.validatePosition),d=["wp_resume_section","wp_resume_organization","wp_resume_skill"],b=0,c=d.length;b<c;b++)e=d[b],this.addTaxonomyBoxEvents(e);jQuery("span.project-up").click(this.projectUp),jQuery("span.project-remove").click(this.projectRemove),jQuery("span.project-add").click(this.projectAdd),jQuery("span.project-down").click(this.projectDown),jQuery("li.project-form").each(function(b,c){return a(jQuery(c))});break;case"edit-wp_resume_organization":jQuery("#parent, #tag-slug").parent().hide(),jQuery("#tag-name").siblings("p").text(wp_resume.orgName),jQuery("#tag-description").attr("rows","1").siblings("label").text("Location").siblings("p").text(wp_resume.orgLoc);break;case"edit-wp_resume_skill":jQuery("#tag-name").siblings("p").text(wp_resume.skillName),jQuery("#tag-description").attr("rows","1").siblings("label").text("Skill Level").siblings("p").text(wp_resume.skillLevel);break;case"edit-wp_resume_section":jQuery("#parent").parent().hide(),jQuery("#tag-description, #tag-slug").parent().hide()}}var a,b;return c.prototype.toggleHelp=function(){return jQuery("#wp_resume_help, #wp_resume_clearfix").toggle("fast"),jQuery(this).text()===wp_resume.more?jQuery(this).text(wp_resume.less):jQuery(this).text(wp_resume.more),!1},c.prototype.validatePosition=function(a){if(""===jQuery("input:radio[name=wp_resume_section]:checked").val())return a.preventDefault(),a.stopPropagation(),alert(wp_resume.missingTaxMsg),jQuery("#ajax-loading").hide(),setTimeout("jQuery('#publish').removeClass('button-primary-disabled')",1),!1},c.prototype.toggleMultiple=function(){return jQuery("#multiple").toggle("fast"),jQuery(this).text()===wp_resume.yes?jQuery(this).text(wp_resume.no):jQuery(this).text(wp_resume.yes),!1},c.prototype.toggleHood=function(){return jQuery(".underHood").toggle("fast"),jQuery(this).text()===wp_resume.hideAdv?jQuery(this).text(wp_resume.showAdv):jQuery(this).text(wp_resume.hideAdv),!1},c.prototype.addContactField=function(){return jQuery("#contact_info").append(jQuery(".contact_info_blank").html()),jQuery(".contact_info_row:last").fadeIn(),!1},c.prototype.addTaxonomyBoxEvents=function(a){return jQuery("#add_"+a+"_toggle").live("click",function(){var a;return a=jQuery(this).attr("id").replace("_toggle","").replace("add_",""),jQuery("#add_"+a+"_div").toggle()}),jQuery("#add_"+a+"_button").live("click",function(a){var b;return b=jQuery(this).attr("id").replace("_button","").replace("add_",""),jQuery("#"+b+"-ajax-loading").show(),jQuery.post("admin-ajax.php?action=add_"+b,jQuery("#new_"+b+", #new_"+b+"_location, #new_"+b+"_level, #new_"+b+"_parent, #_ajax_nonce-add-"+b+", #post_ID").serialize(),function(a){return jQuery("#"+b+"div .inside").html(a)}),a.preventDefault()})},b=function(a,b){return a.find('[for^="projects"]').each(function(a,c){var d;return d=jQuery(c),d.attr("for",d.attr("for").replace(/projects\[\d+\]/,"projects["+b+"]"))}),a.find('[name^="projects"]').each(function(a,c){var d;return d=jQuery(c),d.attr("name",d.attr("name").replace(/projects\[\d+\]/,"projects["+b+"]"))}),a.find('[id^="project"]').each(function(a,c){var d;return d=jQuery(c),d.attr("id",d.attr("id").replace(/project\d+/,"project"+b))})},a=function(a){return a.find("span.project-up").attr("disabled",0===a.index()),a.find("span.project-down").attr("disabled",0===a.next().length)},c.prototype.projectUp=function(c){var d,e,f,g;if(f=jQuery(c.target),e=f.closest("li.project-form"),g=e.index(),d=e.prev("li"),g>0)return b(e,g-1),b(d,g),d.insertAfter(e),a(e),a(d)},c.prototype.projectRemove=function(c){var d,e,f,g;return f=jQuery(c.target),e=f.closest("li.project-form"),g=e.index(),d=e.parent(),d.children("li").length>1?(e.remove(),d.children("li").each(function(c,d){return c>=g&&b(jQuery(d),c),a(jQuery(d))})):(e.find("input").val(""),e.find("textarea").val(""))},c.prototype.projectAdd=function(c){var d,e,f,g;return f=jQuery(c.target),e=f.closest("li.project-form"),g=e.index(),d=e.clone(!0).insertAfter(e),d.find("input").val(""),d.find("textarea").val(""),e.parent().children("li").each(function(c,d){return c>g&&b(jQuery(d),c),a(jQuery(d))}),d.find(".project-name>input").focus()},c.prototype.projectDown=function(c){var d,e,f,g;if(f=jQuery(c.target),e=f.closest("li.project-form"),g=e.index(),d=e.next("li"),g<e.parent().children("li").length-1)return b(e,g+1),b(d,g),d.insertBefore(e),a(e),a(d)},c.prototype.makeSortable=function(){return jQuery("#sections, .positions, .organizations").sortable({axis:"y",containment:"parent",opacity:.5,update:function(){},placeholder:"placeholder",forcePlaceholderSize:"true"}),jQuery("#sections").disableSelection()},c.prototype.submitOptions=function(){return jQuery(".section").each(function(a,b){return jQuery("#wp_resume_form").append('<input type="hidden" name="wp_resume_options[order]['+jQuery(this).attr("id")+']" value="'+a+'">')}),jQuery(".position").each(function(a,b){return jQuery("#wp_resume_form").append('<input type="hidden" name="wp_resume_options[position_order]['+jQuery(this).attr("id")+']" value="'+a+'">')})},c}(),jQuery(document).ready(function(){return window.resume=new a})}).call(this);